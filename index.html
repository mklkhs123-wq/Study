<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMI Calculator</title>
  <style>
    body {font-family: Arial, sans-serif; background:#f0f0f0; margin:0; padding:20px;}
    .container {max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);}
    h2 {text-align: center; color: #333;}
    label {display:block; margin:10px 0 5px; font-weight:bold;}
    input {width: calc(100% - 20px); padding:8px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;}
    .row {display:flex; gap:10px;}
    .row input {flex:1;}
    button {width:100%; padding:10px; background:#007BFF; color:#fff; border:none; border-radius:5px; cursor:pointer; font-size:16px;}
    button:hover {background:#0056b3;}
    .result {margin-top:20px; padding:15px; background:#f9f9f9; border-left:4px solid #007BFF;}
  </style>
</head>
<body>
  <div class="container">
    <h2>EMI Calculator</h2>
    
    <label>Product Amount (₹):</label>
    <input type="number" id="product" placeholder="e.g. 100000">

    <label>Margin Money (₹):</label>
    <input type="number" id="margin" placeholder="e.g. 25000">

    <label>Processing Fee % (on remaining loan):</label>
    <input type="number" id="process" placeholder="e.g. 2.5">

    <div class="row">
      <div style="flex:1;">
        <label>Insurance (₹):</label>
        <input type="number" id="insuranceFixed" placeholder="e.g. 3000">
      </div>
      <div style="flex:1;">
        <label>Insurance % (on remaining loan):</label>
        <input type="number" id="insurancePercent" placeholder="e.g. 1.5">
      </div>
    </div>

    <label>Stamp Charges (₹):</label>
    <input type="number" id="stamp" placeholder="e.g. 500">

    <label>Hypothecation Charges (₹):</label>
    <input type="number" id="hypo" placeholder="e.g. 1000">

    <label>Other Charges (₹ per month):</label>
    <input type="number" id="other" placeholder="e.g. 100">

    <label>Interest Rate % (per year):</label>
    <input type="number" id="rate" placeholder="e.g. 12">

    <label>Finance Duration (in months):</label>
    <input type="number" id="months" placeholder="e.g. 24">

    <button onclick="calculateEMI()">Calculate</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    function calculateEMI(){
      const product = parseFloat(document.getElementById('product').value)||0;
      const margin = parseFloat(document.getElementById('margin').value)||0;
      const process = parseFloat(document.getElementById('process').value)||0;
      const insuranceFixed = parseFloat(document.getElementById('insuranceFixed').value)||0;
      const insurancePercent = parseFloat(document.getElementById('insurancePercent').value)||0;
      const stamp = parseFloat(document.getElementById('stamp').value)||0;
      const hypo = parseFloat(document.getElementById('hypo').value)||0;
      const other = parseFloat(document.getElementById('other').value)||0;
      const rate = parseFloat(document.getElementById('rate').value)||0;
      const months = parseFloat(document.getElementById('months').value)||0;

      const remaining = product - margin;
      const processFee = remaining * (process/100);
      const insuranceByPercent = remaining * (insurancePercent/100);
      const totalInsurance = insuranceFixed + insuranceByPercent;

      const downPayment = margin + processFee + totalInsurance + stamp + hypo;

      const interest = remaining * (rate/100) * (months/12);

      const repayable = remaining + interest;
      const emi = (repayable / months) + other;

      const totalViaEMIs = emi * months;
      const totalPaid = downPayment + totalViaEMIs;
      const extraCost = totalPaid - product;

      document.getElementById('result').innerHTML = `
        <b>Remaining Loan:</b> ₹${remaining.toFixed(2)} <br>
        <b>Processing Fee:</b> ₹${processFee.toFixed(2)} <br>
        <b>Total Insurance:</b> ₹${totalInsurance.toFixed(2)} <br>
        <b>Stamp Charges:</b> ₹${stamp.toFixed(2)} <br>
        <b>Hypothecation Charges:</b> ₹${hypo.toFixed(2)} <br>
        <b><u>Total Down Payment:</u></b> ₹${downPayment.toFixed(2)} <br><br>
        <b>Interest:</b> ₹${interest.toFixed(2)} <br>
        <b>Monthly EMI:</b> ₹${emi.toFixed(2)} <br>
        <b>Total via EMIs:</b> ₹${totalViaEMIs.toFixed(2)} <br><br>
        <b><u>Total Paid (Down + EMIs):</u></b> ₹${totalPaid.toFixed(2)} <br>
        <b>Total Extra Cost (Interest + Charges):</b> ₹${extraCost.toFixed(2)}
      `;
    }
  </script>
</body>
</html>
